<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <title>Document</title>

</head>

<body>

    <div class="container py-5" style="height:100vh" id="drum-machine">
        <div class="row h-25 ">
            <div class=" h-100 col-6   position-relative fs-4" id="display">
                <p>Now Playing: <span id="displayValue"
                        class="position-absolute top-50 start-50 translate-middle ">---</span></p>
            </div>



            <div class=" d-flex justify-content-center align-items-center h-100 col-6">
                <input type="range" min="0" max="100" value="50" id="volume" class="row w-75" />
            </div>



        </div>
        <div class="h-75   d-flex justify-content-center align-items-center">
            <div class="row row-cols-4 text-center gap-2 h-50 w-50 justify-content-center ">

                <button class="col border drum-pad" id="Cev_H2" style="background: gainsboro;">
                    Q
                    <audio src="./Sounds/Cev_H2.mp3" class="clip" id="Q">Cev_H2</audio>
                </button>
                <button class="col border drum-pad" id="Dsc_Oh" style="background: gainsboro;">
                    W
                    <audio src="./Sounds/Dsc_Oh.mp3" class="clip" id="W">Dsc_Oh</audio>
                </button>
                <button class="col border  drum-pad" id="Heater-1" style="background: gainsboro;">
                    E
                    <audio src="./Sounds/Heater-1.mp3" class="clip" id="E">Heater-1</audio>
                </button>
                <button class="col border   drum-pad" id="Heater-2" style="background: gainsboro;">
                    A
                    <audio src="./Sounds/Heater-2.mp3" class="clip" id="A">Heater-2</audio>
                </button>
                <button class="col border  drum-pad" id="Heater-3" style="background: gainsboro;">
                    S
                    <audio src="./Sounds/Heater-3.mp3" class="clip" id="S">Heater-3</audio>
                </button>
                <button class="col border drum-pad" id="Heater-4_1" style="background: gainsboro;">
                    D
                    <audio src="./Sounds/Heater-4_1.mp3" class="clip" id="D">Heater-4_1</audio>
                </button>
                <button class="col border drum-pad" id="Heater-6" style="background: gainsboro;">
                    Z
                    <audio src="./Sounds/Heater-6.mp3" class="clip" id="Z">Heater-6</audio>
                </button>
                <button class="col border   drum-pad" id="Kick_n_Hat" style="background: gainsboro;">
                    X
                    <audio src="./Sounds/Kick_n_Hat.mp3" class="clip" id="X">Kick_n_Hat</audio>
                </button>
                <button class="col border   drum-pad" id="RP4_KICK_1" style="background: gainsboro;">
                    C
                    <audio src="./Sounds/RP4_KICK_1.mp3" class="clip" id="C">RP4_KICK_1</audio>
                </button>


            </div>
        </div>
    </div>


    <script src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js'>//add via cdn</script>

    <script>
        $(".drum-pad").on("click", function () {
            // Get the current audio element.
            const currentAudio = $(this).find(".clip").get(0);

            const $this = $(this)


            $this.css("background", "orange");
            setTimeout(function () {
                $this.css("background", "gainsboro");
            }, 500);


            // Stop the current audio element from playing.
            if (currentAudio.paused !== true) {
                currentAudio.pause();
            }

            // Play the audio element of the button that was clicked.
            $("#displayValue").text($this.attr('id'))
            setTimeout(function () {
                $('#displayValue').text("---")
            }, 1500)
            currentAudio.play();
        });
        $(document).on("keydown", function (e) {
            // Get the current key that was pressed.
            const currentKey = e.keyCode;

            // Find the button with the corresponding inner text.
            const button = $(".drum-pad").filter(":contains('" + String.fromCharCode(currentKey) + "')");

            // If the button exists, trigger it.
            if (button.length > 0) {
                button.trigger("click");
            }
        });
        $("#volume").on("change", function () {
            // Get the current volume.
            const currentVolume = $(this).val();

            // Set the volume of the audio element.
            $(".clip").each(function () {
                $(this).prop("volume", currentVolume / 100);
            });
        });





    </script>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js" />

</body>

</html>